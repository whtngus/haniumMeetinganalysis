<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <title>HANIUM</title>
  <!-- Tell the browser to be responsive to screen width -->
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <!-- Font Awesome -->
  <link rel="stylesheet" href="/plugins/font-awesome/css/font-awesome.min.css">
  <!-- Ionicons -->
  <link rel="stylesheet" href="https://code.ionicframework.com/ionicons/2.0.1/css/ionicons.min.css">

  <link rel="stylesheet" type="text/css" href="https://cdn.datatables.net/1.10.19/css/jquery.dataTables.css">

  <!-- Theme style -->
  <link rel="stylesheet" href="/dist/css/adminlte.min.css">
  <!-- iCheck -->
  <link rel="stylesheet" href="/plugins/iCheck/flat/blue.css">
  <!-- Google Font: Source Sans Pro -->
  <link href="https://fonts.googleapis.com/css?family=Source+Sans+Pro:300,400,400i,700" rel="stylesheet">

</head>
<body class="hold-transition sidebar-mini">
<div class="wrapper">

  <!--nav + search + side-->
  <% include ./plain.ejs %>

  <!-- Content Wrapper. Contains page content -->
  <div class="content-wrapper">
    <!-- Content Header (Page header) -->
    <div class="content-header">
      <div class="container-fluid">
        <div class="row mb-2">
          <div class="col-sm-6">
            <h1 class="m-0 text-dark">친구 관리</h1>
          </div><!-- /.col -->
        </div><!-- /.row -->
      </div><!-- /.container-fluid -->
    </div>
    <!-- /.content-header -->

    <!-- Main content -->
    <section class="content">
      <div class="container-fluid">

        <!-- friends list -->
        <div class="row">
          <div class="col-sm-12">
            <!-- Custom Tabs -->
            <div class="card">
              <div class="card-header d-flex p-0">
                <ul class="nav nav-pills mr-auto p-2">
                  <li class="nav-item"><a class="nav-link active" href="#tab_1" data-toggle="tab">즐겨찾기</a></li>
                  <li class="nav-item"><a class="nav-link" href="#tab_2" data-toggle="tab">그룹</a></li>
                </ul>
                <button type="button" class="btn btn-info btn-primary m-2" id="inputParticipant" data-toggle="modal" data-target="#addModal">친구추가</button>
              </div><!-- /.card-header -->
              <div class="card-body">
                <div class="tab-content">
                  <div class="tab-pane active" id="tab_1">
                    <!-- Search friends -->
                    <div class="row">
                      <div class="col-sm-12 table-responsive">
                        <table id="friendsTable" class="table table-striped table-bordered" cellspacing="0" width="100%">
                          <thead>
                              <tr>
                                  <th>userid</th>
                                  <th>username</th>
                                  <th>comname</th>
                                  <th>department</th>
                                  <th>position</th>
                              </tr>
                          </thead>
                        </table>
                      </div>
                    </div>
                  </div>
                  <!-- /.tab-pane -->
                  <div class="tab-pane" id="tab_2">
                    <!-- Search group -->
                    <div class="row">
                      <div class="col-sm-12 table-responsive">
                        <table id="groupTable" class="table table-striped table-bordered" cellspacing="0" width="100%">
                          <thead>
                              <tr>
                                  <th>userid</th> 
                                  <th>groupname</th> <!--그룹이름-->
                                  <th>groupleader</th> <!--그룹개설자-->
                                  <th>comname</th> <!--회사이름-->
                                  <th>number</th> <!--그룹원 수-->
                              </tr>
                          </thead>
                        </table>
                      </div>
                    </div>
                  </div>
                </div>
                <!-- /.tab-content -->
              </div><!-- /.card-body -->
              <div class="card-footer">
              <div  class="float-right">
                <button type="submit" formaction="/meet/process" class="btn btn-primary">삭제하기</button>
              </div>
            </div><!-- cardfooter --> 

            </div>
            <!-- ./card -->
          </div>
          <!-- /.col -->
        </div>
        <!-- /.row -->
        <!-- END CUSTOM TABS -->
          
        </div>

      </div><!-- /.container-fluid -->
    </section>
    <!-- /.content -->
  </div>
  <!-- /.content-wrapper -->

  <!--footer-->
  <% include ./footer.ejs %>

  <!-- Control Sidebar -->
  <aside class="control-sidebar control-sidebar-dark">
    <!-- Control sidebar content goes here -->
  </aside>
  <!-- /.control-sidebar -->
</div>
<!-- ./wrapper -->

<!-- Modal -->
<div id="addModal" class="modal fade"  role="dialog" aria-labelledby="myModalLabel" aria-hidden="true">
  <div class="modal-dialog modal-lg">

    <!-- Modal content-->
    <div class="modal-content">
      <div class="modal-header">
        <h4 class="modal-title">새로운 친구 찾기</h4>
        <button type="button" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">&times;</span></button>
      </div>
      <div class="modal-body">
        <div class="row">
          <div class="col-12 table-responsive">
            <table id="addTable" class="table table-striped table-bordered" style="display: table-header-group;" cellspacing="0" width="100%">
              <thead>
                  <tr>
                      <th>userid</th>
                      <th>username</th>
                      <th>comname</th>
                      <th>department</th>
                      <th>position</th>
                  </tr>
              </thead>
              <tfoot>
                  <tr>
                      <th>userid</th>
                      <th>username</th>
                      <th>comname</th>
                      <th>department</th>
                      <th>position</th>
                  </tr>
              </tfoot>
            </table>
          </div>
        </div>

      </div>
      <div class="modal-footer">
        <button type="button" class="btn btn-default" data-dismiss="modal" id="modal-submit">추가</button>
      </div>
    </div>

  </div>
</div>

<!-- jQuery -->
<script src="/plugins/jquery/jquery.min.js"></script>
<!-- jQuery UI 1.11.4 -->
<script src="https://code.jquery.com/ui/1.12.1/jquery-ui.min.js"></script>
<!-- Resolve conflict in jQuery UI tooltip with Bootstrap tooltip -->
<script>
  $.widget.bridge('uibutton', $.ui.button)
</script>
<!-- Bootstrap 4 -->
<script src="/plugins/bootstrap/js/bootstrap.bundle.min.js"></script>
<script src="/plugins/bootstrap/js/bootstrap.min.js"></script>
<!-- Sparkline -->
<script src="/plugins/sparkline/jquery.sparkline.min.js"></script>
<!-- Slimscroll -->
<script src="/plugins/slimScroll/jquery.slimscroll.min.js"></script>
<!-- FastClick -->
<script src="/plugins/fastclick/fastclick.js"></script>
<!-- AdminLTE App -->
<script src="/dist/js/adminlte.js"></script>
<!-- AdminLTE for demo purposes -->
<script src="/dist/js/demo.js"></script>
<!-- 활성화 시, 모달창 작동 에러
<script src="https://code.jquery.com/jquery-3.3.1.min.js"></script>
-->
<script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.2/js/bootstrap.min.js"></script>
<script type="text/javascript" charset="utf8" src="https://cdn.datatables.net/1.10.19/js/jquery.dataTables.js"></script>

<script type="text/javascript">
$(document).ready(function() {

    $('a[data-toggle="tab"]').on( 'shown.bs.tab', function (e) { //탭이 보여지고 난 후
        $.fn.dataTable.tables( {visible: true, api: true} ).columns.adjust(); //테이블
    } );
     
    //즐겨찾기 테이블
    $('#friendsTable').DataTable( { 
        ajax:           '/add/find', //ajax url
        scrollY:        200,
        scrollCollapse: true,
        paging:         false
    });

    //그룹 테이블
    $('#groupTable').DataTable( {
        ajax:           '/add/find', 
        scrollY:        200,
        scrollCollapse: true,
        paging:         false
    });

    // Setup - add a text input to each footer cell
    $('#addTable tfoot th').each( function () {
        var title = $(this).text();
        $(this).html( '<input type="text" placeholder="Search '+title+'" />' );
    } );
    // 친구 추가 DataTable
    var table = $('#addTable').DataTable( {
        ajax:           '/add/find', //ajax url
        scrollY:        200,
        scrollCollapse: true,
        paging:         false
    });
    // Apply the search
    table.columns().every( function () {
        var that = this;
 
        $( 'input', this.footer() ).on( 'keyup change', function () {
            if ( that.search() !== this.value ) {
                that
                    .search( this.value )
                    .draw();
            }
        } );
    } );
    $('#addTable tfoot tr').appendTo('#addTable thead');

});


</script>
<script src="/dist/js/multiselect.js"></script>
</body>
</html>
